


     * 1：说一下Redis的主从复制
     * 我们知道Redis持久化机制就是确保Redis宕机或者断电时，重启时可以恢复Redis的数据。但是当Redis宕机了，就无法提供服务了，为了确保Redis的服务提供，就需要有多个Redis实例。
     * 当一个Redis挂掉之后，还有其他的实例可以提供服务。
     * Redis的主从关系是这样的，就是主节点提供读写服务、从节点提供读服务，那么两个Redis实例是怎么变成主从关系的呢。一个Redis实例执行了repOf 另一台Redis的ip 端口，执行命令的Redis就变成了一个从节点。
     * 主节点收到命令之后，就会fork子进程去生产一个RDB文件，生产RDB文件之后，就发给从节点，这样两台实例的数据就一致了，这就是Redis主从复制的基本情况。
     *
     *
     * 2：说一下Redis复制的过程（代办）-----> 参考官网怎么回答的
     * 2：说一下Redis复制的过程（代办）-----> 参考官网怎么回答的
     *      1：当从节点要复制主节点的数据，从节点会发送一个PSYNC命令给主节点，同时会有一个复制ID和偏移量，如果复制的ID和上次的是一样的，主节点会根据根据偏移量后面新增的数据发给从节点。
     *
     *      2：这个怎么理解偏移量呢，比如文件A复制文件B的数据，数据一致的情况，文件最新的数据在100行，文件B也一样。那么文件B又增加了数据写到了150行，文件A在复制的时候，
     *          偏移量就相当于100嘛，这样文件B就将101行到150行的数据发给文件A。
     *
     *      3：这个复制ID怎么理解呢，其实这个复制ID就是主节点的一个标识，因为主节点宕机下线了，会有从节点接替成为新的主节点，这时候其他从节点执行复制操作，这时候复制ID就不一样了。
     *
     *      当从服务器对主服务器进行初次复制时，主服务器将会将自己的运行ID传送给从服务器，而从服务器会将这个运行ID保存起来
     *      当从服务器断线并重新连接上主服务器时，从服务器将向当前连接的主服务器发送之前保存的运行ID：
     *      4：如果复制的ID不一样，或者是从节点第一次执行复制操作，主节点收到命令之后，会fork一个子进程去生产RDB文件。接着会将新接收到的命令写到缓存区中，当RDB文件生成之后，就发给从节点，接着
     *          主节点还会将缓冲区中的数据发给从节点。这样就可以主从就可以达到一致性了。
     *          这就是我对主从复制实现的理解。
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
